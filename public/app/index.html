<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ú–∞–≥–∞–∑–∏–Ω</title>
    <link rel="stylesheet" href="/app/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://code.icon

ify.design/3/3.1.0/iconify.min.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>

<body>
    <div class="app">
        <!-- Banners Section -->
        <div id="bannersSlider" class="banners-slider"></div>

        <!-- Products Section -->
        <div id="mainView" class="view">
            <div id="productsList" class="products-grid">
                <!-- Products will be loaded here -->
            </div>
        </div>

        <!-- Cart View -->
        <div id="cartView" class="view" style="display: none;">
            <div class="view-header">
                <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
            </div>

            <div id="cartItems" class="cart-items">
                <!-- Cart items will be shown here -->
            </div>

            <div id="cartEmpty"
                style="display: none; text-align: center; padding: 60px 20px; color: var(--text-secondary);">
                <iconify-icon icon="mdi:cart-outline" style="font-size: 64px; margin-bottom: 20px;"></iconify-icon>
                <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
            </div>

            <div id="cartFooter" class="cart-footer" style="display: none;">
                <div class="cart-total">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <div>
                        <div id="totalUAH" class="total-uah">0 –≥—Ä–Ω</div>
                        <div id="totalStars" class="total-stars">0 ‚≠ê</div>
                        <div id="totalTON" class="total-ton" style="font-size: 14px; color: #0098EA; display: none;">0
                            TON</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipping View -->
        <div id="shippingView" class="view" style="display: none;">
            <div class="view-header">
                <h2>üì¶ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
            </div>
            <div class="shipping-content" style="padding: 20px;">
                <!-- Shipping Method Selection -->
                <div class="form-group">
                    <label>–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <select id="shippingMethodSelect" onchange="switchShippingMethod()"
                        style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd;">
                        <option value="novaposhta">–ù–æ–≤–∞ –ü–æ—à—Ç–∞</option>
                        <option value="ukrposhta">–£–∫—Ä–ø–æ—à—Ç–∞</option>
                        <option value="meest">–ú–∏—Å—Ç –ï–∫—Å–ø—Ä–µ—Å</option>
                    </select>
                </div>

                <!-- Nova Poshta Form -->
                <div id="novaposhtaForm" class="shipping-method-form">
                    <div class="form-group">
                        <label>–ú—ñ—Å—Ç–æ</label>
                        <input type="text" id="npCity" placeholder="–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞..."
                            oninput="searchNPCities()" autocomplete="off">
                        <div id="npCitiesList" class="autocomplete-list" style="display: none;"></div>
                        <input type="hidden" id="npCityRef">
                    </div>
                    <div class="form-group">
                        <label>–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è</label>
                        <select id="npWarehouse"
                            style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd;" disabled>
                            <option>–°–ø–æ—á–∞—Ç–∫—É –æ–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–Ü–º'—è</label>
                        <input type="text" id="npFirstName" placeholder="–Ü–º'—è">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä—ñ–∑–≤–∏—â–µ</label>
                        <input type="text" id="npLastName" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="npPhone" placeholder="+380...">
                    </div>
                </div>

                <!-- Ukrposhta Form -->
                <div id="ukrposhtaForm" class="shipping-method-form" style="display: none;">
                    <div class="form-group">
                        <label>–ú—ñ—Å—Ç–æ</label>
                        <input type="text" id="upCity" placeholder="–ú—ñ—Å—Ç–æ">
                    </div>
                    <div class="form-group">
                        <label>–Ü–Ω–¥–µ–∫—Å</label>
                        <input type="text" id="upIndex" placeholder="01001">
                    </div>
                    <div class="form-group">
                        <label>–í—É–ª–∏—Ü—è —Ç–∞ –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É</label>
                        <input type="text" id="upAddress" placeholder="–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 1">
                    </div>
                    <div class="form-group">
                        <label>–Ü–º'—è</label>
                        <input type="text" id="upFirstName" placeholder="–Ü–º'—è">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä—ñ–∑–≤–∏—â–µ</label>
                        <input type="text" id="upLastName" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="upPhone" placeholder="+380...">
                    </div>
                </div>

                <!-- Meest Form -->
                <div id="meestForm" class="shipping-method-form" style="display: none;">
                    <div class="form-group">
                        <label>–ú—ñ—Å—Ç–æ</label>
                        <input type="text" id="meestCity" placeholder="–ú—ñ—Å—Ç–æ">
                    </div>
                    <div class="form-group">
                        <label>–Ü–Ω–¥–µ–∫—Å</label>
                        <input type="text" id="meestIndex" placeholder="01001">
                    </div>
                    <div class="form-group">
                        <label>–í—É–ª–∏—Ü—è —Ç–∞ –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É</label>
                        <input type="text" id="meestAddress" placeholder="–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 1">
                    </div>
                    <div class="form-group">
                        <label>–Ü–º'—è</label>
                        <input type="text" id="meestFirstName" placeholder="–Ü–º'—è">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä—ñ–∑–≤–∏—â–µ</label>
                        <input type="text" id="meestLastName" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="meestPhone" placeholder="+380...">
                    </div>
                </div>

                <button onclick="proceedToPayment()" class="btn-primary"
                    style="width: 100%; margin-top: 20px; padding: 15px;">
                    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏
                </button>
                <button onclick="showView('cart')" class="btn-secondary"
                    style="width: 100%; margin-top: 10px; padding: 15px;">
                    –ù–∞–∑–∞–¥ –¥–æ –∫–æ—à–∏–∫–∞
                </button>
            </div>
        </div>

        <!-- Profile View -->
        <div id="profileView" class="view" style="display: none;">
            <div class="view-header">
                <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
            </div>
            <div class="profile-content">
                <div class="profile-info">
                    <iconify-icon icon="mdi:account-circle"
                        style="font-size: 80px; color: var(--primary);"></iconify-icon>
                    <h3 id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h3>
                    <p id="userId" style="color: var(--text-secondary);"></p>
                    <div id="ton-connect" style="margin-top: 20px; display: flex; justify-content: center;"></div>
                </div>
            </div>
        </div>

        <!-- Product Detail Modal -->
        <div id="productModal" class="modal" style="display: none;">
            <div class="modal-overlay" onclick="closeProductModal()"></div>
            <div class="modal-product-content">
                <button class="modal-close" onclick="closeProductModal()">
                    <iconify-icon icon="mdi:close"></iconify-icon>
                </button>
                <img id="modalProductImage" class="modal-product-image" alt="">
                <div class="modal-product-info">
                    <h2 id="modalProductName"></h2>
                    <p id="modalProductDescription"></p>
                    <div class="modal-product-footer">
                        <div>
                            <div id="modalProductPrice" class="product-price"></div>
                            <div id="modalProductStars" class="product-stars"></div>
                        </div>
                        <button id="modalAddToCart" class="btn-add-cart" onclick="addToCartFromModal()">
                            <iconify-icon icon="mdi:cart-plus"></iconify-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showView('main')" data-view="main">
                <iconify-icon icon="mdi:home"></iconify-icon>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" onclick="showView('cart')" data-view="cart">
                <iconify-icon icon="mdi:cart"></iconify-icon>
                <span>–ö–æ—Ä–∑–∏–Ω–∞</span>
                <div id="navCartBadge" class="nav-badge" style="display: none;">0</div>
            </button>
            <button class="nav-item" onclick="showView('profile')" data-view="profile">
                <iconify-icon icon="mdi:account"></iconify-icon>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>

        <!-- Loading spinner -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
        </div>
    </div>

    <script src="/app/app.js"></script>
</body>

</html>